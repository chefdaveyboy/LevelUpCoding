{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/rachael-andrew/Bootcamp/Project-3:AuthAPI/project-3/Project-3/client/app/scenes/auth/ForgotPassword.js\";\nimport React, { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport * as api from \"../../services/auth\";\nimport Form from 'react-native-basic-form';\nimport { Header, ErrorText } from \"../../components/Shared\";\nexport default function ForgotPassword(props) {\n  var navigation = props.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var fields = [{\n    name: 'email',\n    label: 'Email Address',\n    required: true\n  }];\n\n  function onSubmit(state) {\n    var response;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(api.forgotPassword(state));\n\n          case 4:\n            response = _context.sent;\n            setLoading(false);\n            Alert.alert('Recover Password', response.message, [{\n              text: 'OK',\n              onPress: function onPress() {\n                return navigation.goBack();\n              }\n            }], {\n              cancelable: false\n            });\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            setError(_context.t0.message);\n            setLoading(false);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 9]], Promise);\n  }\n\n  var formProps = {\n    title: \"Submit\",\n    fields: fields,\n    onSubmit: onSubmit,\n    loading: loading\n  };\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      paddingHorizontal: 16,\n      backgroundColor: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, React.createElement(Header, {\n    title: \"Recover Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, React.createElement(ErrorText, {\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }), React.createElement(Form, _extends({}, formProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }))));\n}\n;\n\nForgotPassword.navigationOptions = function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return {\n    title: \"\"\n  };\n};","map":{"version":3,"sources":["/Users/rachael-andrew/Bootcamp/Project-3:AuthAPI/project-3/Project-3/client/app/scenes/auth/ForgotPassword.js"],"names":["React","useState","api","Form","Header","ErrorText","ForgotPassword","props","navigation","error","setError","loading","setLoading","fields","name","label","required","onSubmit","state","forgotPassword","response","Alert","alert","message","text","onPress","goBack","cancelable","formProps","title","flex","paddingHorizontal","backgroundColor","navigationOptions"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;AAGA,OAAO,KAAKC,GAAZ;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,SAAQC,MAAR,EAAgBC,SAAhB;AAEA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAAA,MACnCC,UADmC,GACrBD,KADqB,CACnCC,UADmC;;AAAA,kBAIhBP,QAAQ,CAAC,IAAD,CAJQ;AAAA;AAAA,MAInCQ,KAJmC;AAAA,MAI5BC,QAJ4B;;AAAA,mBAKZT,QAAQ,CAAC,KAAD,CALI;AAAA;AAAA,MAKnCU,OALmC;AAAA,MAK1BC,UAL0B;;AAO1C,MAAMC,MAAM,GAAG,CAAC;AAACC,IAAAA,IAAI,EAAE,OAAP;AAAgBC,IAAAA,KAAK,EAAE,eAAvB;AAAwCC,IAAAA,QAAQ,EAAE;AAAlD,GAAD,CAAf;;AAEA,WAAeC,QAAf,CAAwBC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACIN,YAAAA,UAAU,CAAC,IAAD,CAAV;AADJ;AAAA;AAAA,6CAI6BV,GAAG,CAACiB,cAAJ,CAAmBD,KAAnB,CAJ7B;;AAAA;AAIYE,YAAAA,QAJZ;AAKQR,YAAAA,UAAU,CAAC,KAAD,CAAV;AAEAS,YAAAA,KAAK,CAACC,KAAN,CACI,kBADJ,EAEIF,QAAQ,CAACG,OAFb,EAGI,CAAC;AAACC,cAAAA,IAAI,EAAE,IAAP;AAAaC,cAAAA,OAAO,EAAE;AAAA,uBAAMjB,UAAU,CAACkB,MAAX,EAAN;AAAA;AAAtB,aAAD,CAHJ,EAII;AAACC,cAAAA,UAAU,EAAE;AAAb,aAJJ;AAPR;AAAA;;AAAA;AAAA;AAAA;AAcQjB,YAAAA,QAAQ,CAAC,YAAMa,OAAP,CAAR;AACAX,YAAAA,UAAU,CAAC,KAAD,CAAV;;AAfR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,MAAIgB,SAAS,GAAG;AAACC,IAAAA,KAAK,EAAE,QAAR;AAAkBhB,IAAAA,MAAM,EAANA,MAAlB;AAA0BI,IAAAA,QAAQ,EAARA,QAA1B;AAAoCN,IAAAA,OAAO,EAAPA;AAApC,GAAhB;AACA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACmB,MAAAA,IAAI,EAAE,CAAP;AAAUC,MAAAA,iBAAiB,EAAE,EAA7B;AAAiCC,MAAAA,eAAe,EAAC;AAAjD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACF,MAAAA,IAAI,EAAC;AAAN,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAErB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,IAAD,eAAUmB,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFJ,CAFJ,CADJ;AASH;AAAA;;AAEDtB,cAAc,CAAC2B,iBAAf,GAAmC,gBAAQ;AAAA;;AACvC,SAAO;AACHJ,IAAAA,KAAK;AADF,GAAP;AAGH,CAJD","sourcesContent":["import React, { useState } from 'react';\nimport {Alert, View} from 'react-native';\n\nimport * as api from \"../../services/auth\";\n\nimport Form from 'react-native-basic-form';\nimport {Header, ErrorText} from \"../../components/Shared\";\n\nexport default function ForgotPassword(props) {\n    const {navigation} = props;\n\n    //1 - DECLARE VARIABLES\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const fields = [{name: 'email', label: 'Email Address', required: true}];\n\n    async function onSubmit(state) {\n        setLoading(true);\n\n        try {\n            let response = await api.forgotPassword(state);\n            setLoading(false);\n\n            Alert.alert(\n                'Recover Password',\n                response.message,\n                [{text: 'OK', onPress: () => navigation.goBack()}],\n                {cancelable: false},\n            );\n        } catch (error) {\n            setError(error.message);\n            setLoading(false)\n        }\n    }\n\n    let formProps = {title: \"Submit\", fields, onSubmit, loading };\n    return (\n        <View style={{flex: 1, paddingHorizontal: 16, backgroundColor:\"#fff\"}}>\n            <Header title={\"Recover Password\"}/>\n            <View style={{flex:1}}>\n                <ErrorText error={error}/>\n                <Form {...formProps}/>\n            </View>\n        </View>\n    );\n};\n\nForgotPassword.navigationOptions = ({}) => {\n    return {\n        title: ``\n    }\n};"]},"metadata":{},"sourceType":"module"}