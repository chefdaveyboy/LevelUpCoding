{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\david\\\\Bootcamp\\\\DKoellerHomework\\\\Project3\\\\Project-3\\\\client\\\\scenes\\\\home\\\\UpdateProfile.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport * as api from \"../../services/auth\";\nimport { useAuth } from \"../../providers/auth\";\nimport Form from 'react-native-basic-form';\nimport { ErrorText } from \"../../auth-components/Shared\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { SplashScreen } from 'expo';\nimport * as Font from 'expo-font';\nimport { Ionicons } from '@expo/vector-icons';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { createAppContainer, createSwitchNavigator } from 'react-navigation';\nimport BottomTabNavigator from \"../../navigation/BottomTabNavigator\";\nimport useLinking from \"../../navigation/useLinking\";\nvar Stack = createStackNavigator();\nexport default function UpdateProfile(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoadingComplete = _React$useState2[0],\n      setLoadingComplete = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      initialNavigationState = _React$useState4[0],\n      setInitialNavigationState = _React$useState4[1];\n\n  var containerRef = React.useRef();\n  var navigation = props.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useAuth = useAuth(),\n      state = _useAuth.state,\n      updateUser = _useAuth.updateUser;\n\n  var fields = [{\n    name: 'firstName',\n    label: 'First Name',\n    required: true,\n    value: state.user.firstName\n  }, {\n    name: 'lastName',\n    label: 'Last Name',\n    required: true,\n    value: state.user.lastName\n  }, {\n    name: 'username',\n    label: 'Username',\n    required: true,\n    value: state.user.username\n  }];\n\n  function onSubmit(data) {\n    var response;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(api.updateProfile(state.user._id, data));\n\n          case 4:\n            response = _context.sent;\n            updateUser(response.user);\n            setLoading(false);\n            navigation.goBack();\n            _context.next = 14;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            setError(_context.t0.message);\n            setLoading(false);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 10]], Promise);\n  }\n\n  var formProps = {\n    title: \"Submit\",\n    fields: fields,\n    onSubmit: onSubmit,\n    loading: loading\n  };\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      paddingHorizontal: 16,\n      backgroundColor: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, React.createElement(ErrorText, {\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), React.createElement(NavigationContainer, {\n    ref: containerRef,\n    initialState: initialNavigationState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, React.createElement(Stack.Navigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Root\",\n    component: BottomTabNavigator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  })))));\n}\n;\n\nUpdateProfile.navigationOptions = function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return {\n    title: \"Update Profile\"\n  };\n};","map":{"version":3,"sources":["C:/Users/david/Bootcamp/DKoellerHomework/Project3/Project-3/client/scenes/home/UpdateProfile.js"],"names":["React","useState","api","useAuth","Form","ErrorText","NavigationContainer","SplashScreen","Font","Ionicons","createStackNavigator","createAppContainer","createSwitchNavigator","BottomTabNavigator","useLinking","Stack","UpdateProfile","props","isLoadingComplete","setLoadingComplete","initialNavigationState","setInitialNavigationState","containerRef","useRef","navigation","error","setError","loading","setLoading","state","updateUser","fields","name","label","required","value","user","firstName","lastName","username","onSubmit","data","updateProfile","_id","response","goBack","message","formProps","title","flex","paddingHorizontal","backgroundColor","navigationOptions"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {View} from 'react-native';\n\nimport * as api from \"../../services/auth\";\nimport { useAuth } from \"../../providers/auth\";\n\nimport Form from 'react-native-basic-form';\nimport {ErrorText} from \"../../auth-components/Shared\";\nimport { NavigationContainer } from '@react-navigation/native';\n\n//delete if not working\n\n\nimport { SplashScreen } from 'expo';\nimport * as Font from 'expo-font';\nimport { Ionicons } from '@expo/vector-icons';\n\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { createAppContainer, createSwitchNavigator} from 'react-navigation';\n\n//----------//\n\n\nimport BottomTabNavigator from '../../navigation/BottomTabNavigator';\nimport useLinking from '../../navigation/useLinking';\n\nconst Stack = createStackNavigator();\n\nexport default function UpdateProfile (props) {\n    //delete if not working\n    const [isLoadingComplete, setLoadingComplete] = React.useState(false);\n    const [initialNavigationState, setInitialNavigationState] = React.useState();\n    const containerRef = React.useRef();\n    // const { getInitialState } = useLinking(containerRef);\n    //-------//\n\n    // Load any resources or data that we need prior to rendering the app\n    // React.useEffect(() => {\n    //     async function loadResourcesAndDataAsync() {\n    //     try {\n    //         SplashScreen.preventAutoHide();\n\n    //         // Load our initial navigation state\n    //         setInitialNavigationState(await getInitialState());\n\n    //         // Load fonts\n    //         await Font.loadAsync({\n    //         ...Ionicons.font,\n    //         'space-mono': require('../../assets/fonts/SpaceMono-Regular.ttf'),\n    //         });\n    //     } catch (e) {\n    //         // We might want to provide this error information to an error reporting service\n    //         console.warn(e);\n    //     } finally {\n    //         setLoadingComplete(true);\n    //         SplashScreen.hide();\n    //     }\n    //     }\n\n    //     loadResourcesAndDataAsync();\n    // }, []);\n\n    const {navigation} = props;\n\n    //1 - DECLARE VARIABLES\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const { state, updateUser } = useAuth();\n\n    const fields = [\n        {name: 'firstName', label: 'First Name', required: true, value:state.user.firstName},\n        {name: 'lastName', label: 'Last Name', required: true, value:state.user.lastName},\n        {name: 'username', label: 'Username', required: true, value:state.user.username}\n    ];\n\n    async function onSubmit(data) {\n        setLoading(true);\n\n        try {\n            let response = await api.updateProfile(state.user._id, data);\n            updateUser(response.user);\n\n            setLoading(false);\n\n            navigation.goBack();\n        } catch (error) {\n            setError(error.message);\n            setLoading(false)\n        }\n    }\n\n    let formProps = {title: \"Submit\", fields, onSubmit, loading };\n\n\n    // if (!isLoadingComplete && !props.skipLoadingScreen) {\n    //     return null;\n    //   } else {\n    return (\n        <View style={{flex: 1, paddingHorizontal: 16, backgroundColor:\"#fff\"}}>\n            <View style={{flex:1}}>\n                <ErrorText error={error}/>\n                {/* Delete if not working  */}\n                <NavigationContainer ref={containerRef} initialState={initialNavigationState}>\n                    <Stack.Navigator>\n                        <Stack.Screen name=\"Root\" component={BottomTabNavigator} />\n                    </Stack.Navigator>\n                </NavigationContainer>\n                {/* -------- */}\n            </View>\n        </View>\n    );\n// }\n};\n\nUpdateProfile.navigationOptions = ({}) => {\n    return {\n        title: `Update Profile`\n    }\n};"]},"metadata":{},"sourceType":"module"}