{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport * as c from \"../constants\";\nexport function register(data) {\n  var res;\n  return _regeneratorRuntime.async(function register$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.post(c.REGISTER, data));\n\n        case 3:\n          res = _context.sent;\n          return _context.abrupt(\"return\", res.data);\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          throw handler(_context.t0);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\nexport function login(data) {\n  var res;\n  return _regeneratorRuntime.async(function login$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(axios.post(c.LOGIN, data));\n\n        case 3:\n          res = _context2.sent;\n          return _context2.abrupt(\"return\", res.data);\n\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          throw handler(_context2.t0);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\nexport function forgotPassword(data) {\n  var res;\n  return _regeneratorRuntime.async(function forgotPassword$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(axios.post(c.FORGOT_PASSWORD, data));\n\n        case 3:\n          res = _context3.sent;\n          return _context3.abrupt(\"return\", res.data);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw handler(_context3.t0);\n\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\nexport function updateProfile(userId, data) {\n  var options, form_data, key, res;\n  return _regeneratorRuntime.async(function updateProfile$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          options = {\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"multipart/form-data\"\n            }\n          };\n          form_data = new FormData();\n\n          for (key in data) {\n            form_data.append(key, data[key]);\n          }\n\n          _context4.next = 6;\n          return _regeneratorRuntime.awrap(axios.put(c.UPDATE_PROFILE + \"/\" + userId, form_data, options));\n\n        case 6:\n          res = _context4.sent;\n          return _context4.abrupt(\"return\", res.data);\n\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw handler(_context4.t0);\n\n        case 13:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[0, 10]], Promise);\n}\nexport function handler(err) {\n  var error = err;\n  if (err.response && err.response.data.hasOwnProperty(\"message\")) error = err.response.data;else if (!err.hasOwnProperty(\"message\")) error = err.toJSON();\n  return new Error(error.message);\n}","map":{"version":3,"sources":["C:/Users/david/Bootcamp/DKoellerHomework/Project3/Project-3/client/services/auth.js"],"names":["axios","c","register","data","post","REGISTER","res","handler","login","LOGIN","forgotPassword","FORGOT_PASSWORD","updateProfile","userId","options","headers","Accept","form_data","FormData","key","append","put","UPDATE_PROFILE","err","error","response","hasOwnProperty","toJSON","Error","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,KAAKC,CAAZ;AAEA,OAAO,SAAeC,QAAf,CAAwBC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEiBH,KAAK,CAACI,IAAN,CAAWH,CAAC,CAACI,QAAb,EAAuBF,IAAvB,CAFjB;;AAAA;AAEKG,UAAAA,GAFL;AAAA,2CAIQA,GAAG,CAACH,IAJZ;;AAAA;AAAA;AAAA;AAAA,gBAMOI,OAAO,aANd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUP,OAAO,SAAeC,KAAf,CAAqBL,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEiBH,KAAK,CAACI,IAAN,CAAWH,CAAC,CAACQ,KAAb,EAAoBN,IAApB,CAFjB;;AAAA;AAEKG,UAAAA,GAFL;AAAA,4CAIQA,GAAG,CAACH,IAJZ;;AAAA;AAAA;AAAA;AAAA,gBAMOI,OAAO,cANd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUP,OAAO,SAAeG,cAAf,CAA8BP,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEiBH,KAAK,CAACI,IAAN,CAAWH,CAAC,CAACU,eAAb,EAA8BR,IAA9B,CAFjB;;AAAA;AAEKG,UAAAA,GAFL;AAAA,4CAIQA,GAAG,CAACH,IAJZ;;AAAA;AAAA;AAAA;AAAA,gBAMOI,OAAO,cANd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUP,OAAO,SAAeK,aAAf,CAA6BC,MAA7B,EAAqCV,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEOW,UAAAA,OAFP,GAEiB;AACZC,YAAAA,OAAO,EAAE;AACLC,cAAAA,MAAM,EAAE,kBADH;AAEL,8BAAgB;AAFX;AADG,WAFjB;AASOC,UAAAA,SATP,GASmB,IAAIC,QAAJ,EATnB;;AAUC,eAAUC,GAAV,IAAiBhB,IAAjB;AACIc,YAAAA,SAAS,CAACG,MAAV,CAAiBD,GAAjB,EAAsBhB,IAAI,CAACgB,GAAD,CAA1B;AADJ;;AAVD;AAAA,2CAaiBnB,KAAK,CAACqB,GAAN,CAAapB,CAAC,CAACqB,cAAf,SAAiCT,MAAjC,EAA2CI,SAA3C,EAAsDH,OAAtD,CAbjB;;AAAA;AAaKR,UAAAA,GAbL;AAAA,4CAcQA,GAAG,CAACH,IAdZ;;AAAA;AAAA;AAAA;AAAA,gBAgBOI,OAAO,cAhBd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBP,OAAO,SAASA,OAAT,CAAiBgB,GAAjB,EAAsB;AACzB,MAAIC,KAAK,GAAGD,GAAZ;AAEA,MAAIA,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAatB,IAAb,CAAkBuB,cAAlB,CAAiC,SAAjC,CAApB,EACIF,KAAK,GAAGD,GAAG,CAACE,QAAJ,CAAatB,IAArB,CADJ,KAEK,IAAI,CAACoB,GAAG,CAACG,cAAJ,CAAmB,SAAnB,CAAL,EAAoCF,KAAK,GAAGD,GAAG,CAACI,MAAJ,EAAR;AAEzC,SAAO,IAAIC,KAAJ,CAAUJ,KAAK,CAACK,OAAhB,CAAP;AACH","sourcesContent":["import axios from 'axios';\n\nimport * as c from '../constants';\n\nexport async function register(data){\n    try{\n        let res = await axios.post(c.REGISTER, data);\n\n        return res.data;\n    }catch (e) {\n        throw handler(e)\n    }\n}\n\nexport async function login(data){\n    try{\n        let res = await axios.post(c.LOGIN, data);\n\n        return res.data;\n    }catch (e) {\n        throw handler(e);\n    }\n}\n\nexport async function forgotPassword(data) {\n    try {\n        let res = await axios.post(c.FORGOT_PASSWORD, data);\n\n        return res.data;\n    } catch (e) {\n        throw handler(e);\n    }\n}\n\nexport async function updateProfile(userId, data){\n    try{\n        const options = {\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"multipart/form-data\"\n            }\n        };\n\n        const form_data = new FormData();\n        for ( let key in data )\n            form_data.append(key, data[key]);\n\n        let res = await axios.put(`${c.UPDATE_PROFILE}/${userId}`, form_data, options);\n        return res.data;\n    }catch (e) {\n        throw handler(e);\n    }\n}\n\nexport function handler(err) {\n    let error = err;\n\n    if (err.response && err.response.data.hasOwnProperty(\"message\"))\n        error = err.response.data;\n    else if (!err.hasOwnProperty(\"message\")) error = err.toJSON();\n\n    return new Error(error.message);\n}"]},"metadata":{},"sourceType":"module"}